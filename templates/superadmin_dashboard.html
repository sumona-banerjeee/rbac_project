<!DOCTYPE html>
<html>
<head>
  <title>Superadmin Dashboard</title>
  <link rel="stylesheet" href="/static/dashboard.css">
</head>
<body>
  <h1 style="text-align:center;">Superadmin Dashboard</h1>
  <a href="/logout"><button>Logout</button></a>

  <h3>Pending Users:</h3>

  {% for user in users %}
    <form method="post" action="/superadmin/approve/{{ user.id }}" style="border: 1px solid #ccc; padding: 1rem; margin: 1rem; background: #fffff0;">
      <p><strong>ðŸ‘¤ {{ user.name }}</strong></p>
      <p>ðŸ“§ {{ user.email }}</p>
      <label>Assign Role:</label>
      <select name="role">
        {% for role in roles %}
          <option value="{{ role.value }}">{{ role.value.title() }}</option>
        {% endfor %}
      </select>

      <h4>Assign Global Permissions:</h4>
      {% for perm in permissions %}
        <label><input type="checkbox" name="permissions" value="{{ perm.name.value }}"> {{ perm.name.value }}</label><br>
      {% endfor %}

      <h4>Assign Resources with Permissions:</h4>
      {% for resource in resources %}
        <div style="margin-bottom: 0.5rem;">
          <strong>{{ resource.name }}</strong><br>
          <label><input type="checkbox" name="resource_{{ resource.id }}_create"> Create</label>
          <label><input type="checkbox" name="resource_{{ resource.id }}_read"> Read</label>
          <label><input type="checkbox" name="resource_{{ resource.id }}_update"> Update</label>
          <label><input type="checkbox" name="resource_{{ resource.id }}_delete"> Delete</label>
        </div>
      {% endfor %}

      <br>
      <button type="submit" style="background: green; color: white;">Approve</button>
      <a href="/superadmin/deny/{{ user.id }}"><button type="button" style="background: red; color: white;">Deny</button></a>
    </form>
  {% endfor %}

  <div style="margin-top: 2rem; text-align:center;">
    <a href="/superadmin/manage-users"><button>Manage Users</button></a>
    <a href="/superadmin/analytics-ui"><button>View Analytics</button></a>
  </div>
</body>
</html>
